<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>SoCal NodeJS Meetup</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    {{BASE_TAG}}

    <link rel="stylesheet" href="assets/vendor.css">
    <link rel="stylesheet" href="assets/la-sails-meetup-game.css">

  </head>
  <body>


    <script src="/js/socket.io.js"></script>
    <script src="/js/sails.io.js"></script>
    <script>

        (function (io) {

            // as soon as this file is loaded, connect automatically,
            var socket = io.connect();
            if (typeof console !== 'undefined') {
                log('Connecting to Sails.js...');
            }

            socket.on('connect', function socketConnected() {

                // Listen for Comet messages from Sails
                socket.on('message', function messageReceived(message) {

                    ///////////////////////////////////////////////////////////
                    // Replace the following with your own custom logic
                    // to run when a new message arrives from the Sails.js
                    // server.
                    ///////////////////////////////////////////////////////////
                    log('New comet message received :: ', message);
                    //////////////////////////////////////////////////////

                });


                ///////////////////////////////////////////////////////////
                // Here's where you'll want to add any custom logic for
                // when the browser establishes its socket connection to
                // the Sails.js server.
                ///////////////////////////////////////////////////////////
                log(
                                'Socket is now connected and globally accessible as `socket`.\n' +
                                'e.g. to send a GET request to Sails, try \n' +
                                '`socket.get("/", function (response) ' +
                                '{ console.log(response); })`'
                );
                ///////////////////////////////////////////////////////////


            });


            // Expose connected `socket` instance globally so that it's easy
            // to experiment with from the browser console while prototyping.
            window.socket = socket;


            // Simple log function to keep the example simple
            function log () {
                if (typeof console !== 'undefined') {
                    console.log.apply(console, arguments);
                }
            }


        })(

                // In case you're wrapping socket.io to prevent pollution of the global namespace,
                // you can replace `window.io` with your own `io` here:
                window.io

        );

    </script>

    <script>
      window.LaSailsMeetupGameENV = {{ENV}};
      window.EmberENV = window.LaSailsMeetupGameENV.EmberENV;
    </script>
    <script src="assets/vendor.js"></script>
    <script src="assets/la-sails-meetup-game.js"></script>
    <script>
      window.LaSailsMeetupGame = require('la-sails-meetup-game/app')['default'].create(LaSailsMeetupGameENV.APP);
    </script>
  </body>
</html>
